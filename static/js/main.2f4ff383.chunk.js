(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{20:function(e,t,n){e.exports={wrapper:"styles_wrapper__1bz8V",wrapperHeader:"styles_wrapperHeader__2zHJ7",wrapperChildren:"styles_wrapperChildren__WOpTe"}},25:function(e,t,n){e.exports={event:"styles_event__3LUDE",deleteBtn:"styles_deleteBtn__NIlw9",buttonsGroup:"styles_buttonsGroup__3H7KH"}},31:function(e,t,n){e.exports={selectWrapper:"styles_selectWrapper__3KLUH",selectHeader:"styles_selectHeader__14z5s",selectGroup:"styles_selectGroup__anAv4"}},49:function(e,t,n){e.exports={wrapper:"styles_wrapper__1hiEF"}},50:function(e,t,n){e.exports={loader:"styles_loader__2rzC-"}},54:function(e,t,n){e.exports={selectOptions:"styles_selectOptions__1NOrB"}},55:function(e,t,n){e.exports={buttonsGroup:"styles_buttonsGroup__bfaP3"}},56:function(e,t,n){e.exports={alertWrapper:"styles_alertWrapper__1DgRJ"}},70:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(23),c=n.n(s),i=n(4),l=Object(a.createContext)(),o=n(11),u=n.n(o),d=n(49),j=n.n(d),b=function(e){var t=e.children,n=e.className,r=void 0===n?"root-portal":n,c=e.el,l=void 0===c?"div":c,o=Object(a.useState)(document.createElement(l)),u=Object(i.a)(o,1)[0];return u.classList.add(r),Object(a.useEffect)((function(){return document.body.appendChild(u),u.setAttribute("class",j.a.wrapper),document.body.style.overflow="hidden",function(){document.body.removeChild(u),document.body.style.overflow="auto"}}),[u]),Object(s.createPortal)(t,u)};b.propTypes={el:u.a.string,className:u.a.string,children:u.a.element.isRequired};var p=b,O=n(20),f=n.n(O),v=n(0),m=function(e){var t=e.title,n=e.children;return Object(v.jsxs)("div",{className:f.a.wrapper,children:[Object(v.jsx)("div",{className:f.a.wrapperHeader,children:Object(v.jsx)("h3",{className:f.a.title,children:t})}),Object(v.jsx)("div",{className:f.a.wrapperChildren,children:n})]})},h=Object(a.createContext)(),x=n(3),y=n(58),g=n(13),E=n.n(g),N=function(e){var t=e.title,n=e.disabled,r=e.extraClassName,s=Object(y.a)(e,["title","disabled","extraClassName"]),c=Object(a.useMemo)((function(){return E()("btn",r,{"btn-disabled":n})}),[n,r]);return Object(v.jsx)("button",Object(x.a)(Object(x.a)({type:"button",disabled:n,className:c},s),{},{children:t}))};N.defaultProps={title:"Button",disabled:!1,extraClassName:"btn"};for(var C=N,S=Object(a.createContext)(),A=n(50),_=n.n(A),w=function(){return Object(v.jsx)("div",{className:_.a.loader,children:Object(v.jsx)("div",{className:"spinner-border text-primary ",role:"status",children:Object(v.jsx)("span",{className:"sr-only",children:"Loading..."})})})},I=Object(a.createContext)(),T=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(i.a)(s,2),o=c[0],u=c[1],d=Object(a.useContext)(l),j=d.getUsers,b=d.users,O=d.loading,f=d.error,x=Object(a.useContext)(h),y=x.openModal,g=x.closeModal,E=x.isOpened,N=x.modalId,A=Object(a.useContext)(S),_=A.isAuthenticated,T=A.authUser,k=A.setAsAdmin,D=Object(a.useContext)(I).showAlert;Object(a.useEffect)((function(){_||(j(),y("js-signin"))}),[_]),f&&D({message:f,type:"danger"});return O?Object(v.jsx)(w,{}):b&&E&&"js-signin"===N&&Object(v.jsx)(p,{children:Object(v.jsx)(m,{title:"Please Authorize",children:Object(v.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===n.trim())return u("Authorization is required!"),void setTimeout((function(){return u("")}),1500);var t=b.find((function(e){return e.name===n}));t.isAdmin&&k(),T(t),g()},children:[Object(v.jsxs)("div",{className:"form-group pb-2 ",children:[Object(v.jsx)("label",{htmlFor:"userInfo",children:"Authorize"}),Object(v.jsxs)("select",{className:"form-control select ",name:"userInfo",id:"userInfo",value:n,onChange:function(e){r(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Choose Name"}),b.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e.id)}))]}),o&&Object(v.jsx)("p",{className:"text-danger p-0 m-0",children:o})]}),Object(v.jsx)(C,{type:"submit",title:"Authorize",className:"btn btn-primary"})]})})})},k=Object(a.createContext)(),D=n(18),H=function(){var e=Object(a.useContext)(h).openModal,t=Object(a.useContext)(S),n=t.isAuthenticated,r=t.logout,s=t.isAdmin,c=t.user,i=Object(a.useContext)(l).users,o=Object(a.useContext)(k),u=o.filterEvents,d=o.clearFilteredEvents;return Object(v.jsx)("nav",{className:"navbar navbar-dark bg-primary navbar-expand-lg mb-3",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("div",{className:"navbar-brand",children:[Object(v.jsx)("i",{className:"fa fa-calendar"})," ","Calendar"]}),Object(v.jsxs)("ul",{className:"navbar-nav",children:[s&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(C,{extraClassName:"btn-secondary py-2",title:"+ Add Event",onClick:function(){return e("js-create-event")}})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)("select",{className:"form-select form-select-lg py-2",onChange:function(e){""!==e.target.value.trim()?u(e.target.value):d()},children:[Object(v.jsx)("option",{value:"",children:"All Participants"}),i.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e.id)}))]})}),n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(D.b,{to:"/",className:"nav-link",children:[" ",Object(v.jsx)("i",{className:"fa fa-user"})," ","Hi,",c.name]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsxs)(D.b,{to:"/",className:"nav-link",onClick:function(e){e.preventDefault(),r()},children:[" ",Object(v.jsx)("i",{className:"fa fa-sign-out"})," ","Logout"," "]})})]})]})]})})},U=n(96),R="event",M=n(25),L=n.n(M),B=function(e){var t=e.event,n=e.isAdmin,a=e.eventDeleteHandler,r=e.alertHandler,s=Object(U.a)({type:R,item:{id:t.id,title:t.title,fieldId:t.fieldId,owner:t.owner},end:function(e,t){null===t.getDropResult()&&r("Time slot is reserved!")},collect:function(e){return{isDragging:!!e.isDragging()}}}),c=Object(i.a)(s,2),l=c[0].isDragging,o=c[1],u=l?.4:1;return Object(v.jsxs)("div",{ref:o,style:n?Object(x.a)(Object(x.a)({},u),{},{pointerEvents:!0}):Object(x.a)(Object(x.a)({},u),{},{pointerEvents:"none"}),className:L.a.event,children:[t.title,n&&Object(v.jsx)("div",{className:"fa fa-times text-danger",onClick:function(){return a(t)}})]})},F=["Monday","Tuesday","Wednesday","Thursday","Friday"],P=[],G=10;G<=18;G+=1){var J="".concat(G,":00");P.push(J)}var V=n(95),W=n(57),z=n(97),q=function(e){var t=e.children,n=e.dragHandler,a=e.fieldId,r=e.isAdmin,s=(e.onAlertHandler,e.globalEvents),c=Object(z.a)({accept:R,canDrop:function(e,t){return!s.find((function(e){return e.fieldId===a}))&&r},drop:function(e,t){n(e,t,a)},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}),l=Object(i.a)(c,2),o=l[0].isOver,u=l[1];return Object(v.jsx)("td",{ref:u,style:o?{background:"yellow"}:{background:"#fff"},children:t})},K=function(e){var t=e.params,n=t.events,a=t.updateEvent,r=t.loading,s=t.filteredEvents,c=t.isAdmin,i=t.eventDeleteHandler,l=t.showAlert,o=function(e){l({message:e,type:"danger"})},u=s||n,d=function(e,t,r){var s=n.find((function(t){return t.fieldId===e.fieldId}));s&&(s.fieldId=r),s&&a(s)};return r?Object(v.jsx)(w,{}):u&&Object(v.jsx)(V.a,{backend:W.a,children:Object(v.jsxs)("table",{className:"table table-bordered",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Time"}),F.map((function(e){return Object(v.jsx)("th",{scope:"col",children:e.substr(0,3)},e)}))]})}),Object(v.jsx)("tbody",{children:P.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e}),F.map((function(t){return Object(v.jsx)(q,{fieldId:"".concat(t).concat(e.substring(0,2)),dragHandler:d,events:u,globalEvents:n,isAdmin:c,children:u.map((function(n){return n.fieldId==="".concat(t).concat(e.substring(0,2))?Object(v.jsx)(B,{event:n,isAdmin:c,eventDeleteHandler:i,alertHandler:o},n.fieldId):null}))},100*Math.random())}))]},e)}))})]})})},Q=function(e){var t=e.event,n=Object(a.useContext)(h).closeModal,r=Object(a.useContext)(k).deleteEvent;return Object(v.jsx)(p,{children:Object(v.jsx)(m,{title:"Are you sure?",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(t),n()},children:[Object(v.jsxs)("h5",{children:['Delete "',t.title,'" event?']}),Object(v.jsxs)("div",{className:L.a.buttonsGroup,children:[Object(v.jsx)(C,{title:"Cancel",type:"button",onClick:n,className:"btn btn-secondary"}),Object(v.jsx)(C,{title:"Yes",type:"submit",className:"btn btn-primary"})]})]})})})},Y=function(){var e=Object(a.useContext)(I).showAlert,t=Object(a.useContext)(k),n=t.getEvents,r=t.events,s=t.updateEvent,c=t.loading,l=t.filteredEvents,o=Object(a.useContext)(S).isAdmin,u=Object(a.useContext)(h),d=u.openModal,j=u.isOpened,b=u.modalId,p=Object(a.useState)({}),O=Object(i.a)(p,2),f=O[0],m=O[1];return Object(a.useEffect)((function(){n()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{params:{events:r,updateEvent:s,loading:c,showAlert:e,filteredEvents:l,isAdmin:o,eventDeleteHandler:function(e){m(e),d(e.id)}}}),j&&b===f.id&&Object(v.jsx)(Q,{event:f})]})},X=n(19),Z=n(12),$=function(e,t){var n={event:"",participants:[],day:"",time:""},r=Object(a.useState)(n),s=Object(i.a)(r,2),c=s[0],l=s[1],o=Object(a.useState)({}),u=Object(i.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(!1),p=Object(i.a)(b,2),O=p[0],f=p[1];return Object(a.useEffect)((function(){0===Object.keys(d).length&&O&&e()}),[d]),{handleChange:function(e){Array.isArray(e)?l(Object(x.a)(Object(x.a)({},c),{},{participants:e})):l(Object(x.a)(Object(x.a)({},c),{},Object(Z.a)({},e.target.name,e.target.value)))},submitHandler:function(e){e.preventDefault(),j(t(c)),f(!0)},resetValues:function(){f(!1),l(n),j({})},onBlurHandler:function(e){var t;""===e.target.value.trim()&&j(Object(x.a)(Object(x.a)({},d),{},Object(Z.a)({},e.target.name,"".concat((t=e.target.name).charAt(0).toUpperCase()+t.slice(1)," is required!"))))},errors:d,values:c}},ee=n(54),te=n.n(ee),ne=function(e){var t=e.user,n=e.onChangeHandler,r=Object(a.useState)(!1),s=Object(i.a)(r,2),c=s[0],l=s[1];return Object(v.jsxs)("label",{htmlFor:t.id,className:te.a.selectOptions,children:[t.name,Object(v.jsx)("input",{type:"checkbox",id:t.id,value:t,onChange:function(){n(t.name),l(!c)}}),c&&Object(v.jsx)("i",{className:"fa fa-check ",style:{marginRight:"0.5rem"}})]},t.id)},ae=n(31),re=n.n(ae),se=function(e){var t=e.users,n=e.onChangeCheckBoxHandler,r=e.error,s=e.values,c=Object(a.useState)(!1),l=Object(i.a)(c,2),o=l[0],u=l[1],d=Object(a.useState)(0),j=Object(i.a)(d,2),b=j[0],p=j[1];return Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("p",{style:{marginBottom:"0.2rem"},children:"Participants"}),Object(v.jsxs)("div",{className:re.a.selectWrapper,style:o?{border:"3px solid rgba(0,123,255, 0.3)"}:{border:"3px solid transparent"},children:[Object(v.jsxs)("div",{className:E()("form-control",re.a.selectHeader),style:o?{border:"1px solid rgba(0,123,255, 0.9)",boxShadow:"0px 5px 5px rgba(0,123,255, 0.4)"}:{border:"1px solid #ced4da",boxShadow:"none"},onClick:function(){u(!o),p(b+1)},children:[s.participants.length>0?"".concat(s.participants.map((function(e){return e})).join(",").substring(0,25),"..."):"".concat(t.map((function(e){return e.name})).join(",").substring(0,25),"..."),Object(v.jsx)("i",{className:"fa fa-angle-down",style:{fontWeight:"bold"}})]}),Object(v.jsx)("div",{className:re.a.selectGroup,style:o?{visibility:"visible"}:{visibility:"hidden"},children:t.map((function(e){return Object(v.jsx)(ne,{user:e,onChangeHandler:n},e.id)}))})]}),r&&Object(v.jsx)("small",{className:"text-danger px-1 ",children:r})]})},ce=function(e){var t=e.value,n=e.handleChange,a=e.onBlurHandler,r=e.error,s=e.optionsArr,c=e.label,i=e.name;return Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:i,children:c}),Object(v.jsxs)("select",{className:"form-control select",name:i,id:i,value:t,onChange:n,onBlur:function(e){return a(e)},children:[Object(v.jsxs)("option",{value:"",children:["Choose ",c]}),s.map((function(e){return Object(v.jsx)("option",{value:e,children:e},e)}))]}),r&&Object(v.jsx)("small",{className:"text-danger",children:r})]})},ie=function(e){var t=e.label,n=e.name,a=e.type,r=e.value,s=e.placeholder,c=e.handleChange,i=e.onBlurHandler,l=e.error;return Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:n,children:t}),Object(v.jsx)("input",{id:n,name:n,type:a,className:"form-control",placeholder:s,value:r,onChange:c,onBlur:function(e){return i(e)}}),l&&Object(v.jsx)("small",{className:"text-danger",children:l})]})};ie.defaultProps={type:"text"};var le,oe=ie,ue=function(e){var t={};return e.event.trim()||(t.event="Event name is required!"),0===e.participants.length&&(t.participants="Participants field is required!"),e.day.trim()||(t.day="Day is required!"),e.time.trim()||(t.time="Time is required!"),t},de=n(55),je=n.n(de),be=function(){var e=Object(a.useContext)(h),t=e.isOpened,n=e.closeModal,r=e.modalId,s=Object(a.useState)(!1),c=Object(i.a)(s,2),o=c[0],u=c[1],d=Object(a.useContext)(k),j=d.addEvent,b=d.events,O=Object(a.useContext)(l).users,f=Object(a.useState)([]),x=Object(i.a)(f,2),y=x[0],g=x[1],E=Object(a.useState)(""),N=Object(i.a)(E,2),S=N[0],A=N[1],_=$((function(){u(!0)}),ue),w=_.values,I=_.errors,T=_.handleChange,D=_.submitHandler,H=_.resetValues,U=_.onBlurHandler;Object(a.useEffect)((function(){if(o){var e={fieldId:w.day+w.time.substring(0,2),owner:w.participants,title:w.event};b.find((function(t){return t.fieldId===e.fieldId}))?(A("Time Slot Already Reserved!"),setTimeout((function(){A("")}),1500),u(!1)):(j(e),n(),H(),g([]),u(!1))}}),[o]);return t?t&&"js-create-event"===r&&Object(v.jsx)(p,{children:Object(v.jsx)(m,{title:"Create New Event",children:Object(v.jsxs)("form",{className:"form",onSubmit:D,children:[S&&Object(v.jsx)("p",{className:"alert alert-danger",children:S}),Object(v.jsx)(oe,{label:"Event Name",name:"event",value:w.event,placeholder:"Event Name",handleChange:T,onBlurHandler:U,error:I.event}),Object(v.jsx)(se,{users:O,values:w,onChangeCheckBoxHandler:function(e){g((function(t){if(t.find((function(t){return t===e}))){var n=t.filter((function(t){return t!==e}));return T(n),n}return T([].concat(Object(X.a)(y),[e])),[].concat(Object(X.a)(t),[e])}))},error:I.participants}),Object(v.jsx)(ce,{value:w.day,handleChange:T,onBlurHandler:U,error:I.day,optionsArr:F,label:"Day",name:"day"}),Object(v.jsx)(ce,{value:w.time,handleChange:T,onBlurHandler:U,error:I.time,optionsArr:P,label:"Time",name:"time"}),Object(v.jsxs)("div",{className:je.a.buttonsGroup,children:[Object(v.jsx)(C,{title:"Cancel",extraClassName:"btn-secondary",type:"button",onClick:function(){n(),H()}}),Object(v.jsx)(C,{title:"Submit",extraClassName:"btn-primary",type:"submit"})]})]})})}):null},pe=n(56),Oe=n.n(pe),fe=function(){var e=Object(a.useContext)(I),t=e.alert,n=e.hideAlert;return t?Object(v.jsx)("div",{className:E()(Oe.a.alertWrapper),children:Object(v.jsxs)("div",{className:"alert alert-".concat(t.type||"secondary"," alert-dismissible"),children:[" ",t.message,Object(v.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:n,children:Object(v.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}):null},ve=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(H,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(fe,{alert:{message:"TEST ALERT"}}),Object(v.jsx)(Y,{}),Object(v.jsx)(be,{})]})]})},me=function(){var e=Object(a.useContext)(S).isAuthenticated;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T,{}),e&&Object(v.jsx)(ve,{})]})},he=(n(70),n(5)),xe=n.n(he),ye=n(10),ge=n(28),Ee=n(29),Ne=n(21),Ce=n.n(Ne),Se="events",Ae="users",_e=(le={},Object(Z.a)(le,Se,"/events"),Object(Z.a)(le,Ae,"/users"),le),we=new(function(){function e(t,n){if(Object(ge.a)(this,e),e.isExist)return e.instance;e.instance=this,e.isExist=!0,this.endpoints=n,this.baseUrl=t}return Object(Ee.a)(e,[{key:"getData",value:function(){var e=Object(ye.a)(xe.a.mark((function e(){var t,n,a=arguments;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:Se,e.prev=1,e.next=4,Ce.a.get("".concat(this.baseUrl).concat(this.endpoints[t]));case 4:return n=e.sent,e.next=7,n.data;case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"addData",value:function(){var e=Object(ye.a)(xe.a.mark((function e(){var t,n,a,r,s,c,i,l=arguments;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:Se,n=l.length>1?l[1]:void 0,a=l.length>2?l[2]:void 0,e.prev=3,r={data:JSON.stringify(n)},s={headers:{"Content-type":"application/json"}},c=Object(x.a)(Object(x.a)({},a),{},{config:s}),e.next=9,Ce.a.post("".concat(this.baseUrl).concat(this.endpoints[t]),r,c);case 9:return i=e.sent,e.next=12,i.data;case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateData",value:function(){var e=Object(ye.a)(xe.a.mark((function e(){var t,n,a,r,s,c,i,l=arguments;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:Se,n=l.length>1?l[1]:void 0,a=l.length>2?l[2]:void 0,e.prev=3,r={data:JSON.stringify({fieldId:n.fieldId,owner:n.owner,title:n.title})},s={headers:{"Content-type":"application/json"}},c=Object(x.a)(Object(x.a)({},a),{},{config:s}),e.next=9,Ce.a.put("".concat(this.baseUrl).concat(this.endpoints[t],"/").concat(n.id),r,c);case 9:return i=e.sent,e.next=12,i.data;case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"removeData",value:function(){var e=Object(ye.a)(xe.a.mark((function e(t,n){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce.a.delete("".concat(this.baseUrl).concat(this.endpoints[t],"/").concat(n.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("http://158.101.166.74:8080/api/data/igornep",_e),Ie=function(){function e(){Object(ge.a)(this,e)}return Object(Ee.a)(e,null,[{key:"transformDataToMeeting",value:function(e){var t=[];return e&&null!==e&&e.forEach((function(e){if(""!==e.data.trim()){var n=e.id,a=JSON.parse(e.data);a.id=n,t.push(a)}})),t}},{key:"transformSingleItemToMeeting",value:function(e){var t=e.id,n=JSON.parse(e.data);return n.id=t,n}}]),e}(),Te="OPEN_MODAL",ke="CLOSE_MODAL",De="ADD_EVENT",He="GET_EVENTS_SUCCESS",Ue="DELETE_EVENT",Re="UPDATE_EVENT",Me="EVENTS_REQUEST",Le="EVENTS_FAIL",Be="FILTER_EVENTS",Fe="FILTER_CLEAR",Pe="GET_USERS_REQUEST",Ge="GET_USERS_SUCCESS",Je="GET_USERS_FAIL",Ve="LOGOUT",We="AUTH_USER",ze="SET_AS_ADMIN",qe="SHOW_ALERT",Ke="HIDE_ALERT",Qe=function(e,t){switch(t.type){case Pe:return{loading:!0};case Ge:return localStorage.setItem("users",JSON.stringify(t.payload)),{loading:!1,users:t.payload};case Je:return{loading:!1,error:t.payload};default:return e}},Ye=function(e){var t=e.children,n={users:JSON.parse(localStorage.getItem("users"))||[],loading:!1,error:null},r=Object(a.useReducer)(Qe,n),s=Object(i.a)(r,2),c=s[0],o=s[1],u=function(){var e=Object(ye.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:Pe}),e.prev=1,e.t0=Ie,e.next=5,we.getData(Ae);case 5:e.t1=e.sent,t=e.t0.transformDataToMeeting.call(e.t0,e.t1),o({type:Ge,payload:t}),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(1),o({type:Je,payload:e.t2});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),d=c.users,j=c.loading,b=c.error;return Object(v.jsx)(l.Provider,{value:{getUsers:u,users:d,loading:j,error:b},children:t})},Xe=function(e,t){switch(t.type){case Me:return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case He:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,events:t.payload});case De:return Object(x.a)(Object(x.a)({},e),{},{events:[].concat(Object(X.a)(e.events),[t.payload]),loading:!1});case Ue:return Object(x.a)(Object(x.a)({},e),{},{events:e.events.filter((function(e){return e.id!==t.payload.id})),filteredEvents:e.filteredEvents&&e.filteredEvents.filter((function(e){return e.id!==t.payload.id})),loading:!1});case Re:return Object(x.a)(Object(x.a)({},e),{},{events:e.events.map((function(e){return e.id===t.payload.id?t.payload:e})),loading:!1});case Le:return Object(x.a)(Object(x.a)({},e),{},{error:t.payload,loading:!1});case Be:var n=[];return e.events.forEach((function(e){e.owner.find((function(e){return e===t.payload}))&&n.push(e)})),Object(x.a)(Object(x.a)({},e),{},{filteredEvents:[].concat(n)});case Fe:return Object(x.a)(Object(x.a)({},e),{},{filteredEvents:null});default:return e}},Ze=function(e){var t=e.children,n=Object(a.useContext)(I).showAlert,r=Object(a.useReducer)(Xe,{events:null,filteredEvents:null,loading:!1,error:null}),s=Object(i.a)(r,2),c=s[0],l=s[1],o=function(){var e=Object(ye.a)(xe.a.mark((function e(t){var a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:Me}),e.prev=1,e.t0=Ie,e.next=5,we.addData(Se,t);case 5:e.t1=e.sent,a=e.t0.transformSingleItemToMeeting.call(e.t0,e.t1),n({message:"Events well added!",type:"success"}),l({type:De,payload:a}),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(1),l({type:Le,payload:e.t2});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(ye.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:Me}),e.prev=1,e.t0=Ie,e.next=5,we.getData(Se);case 5:e.t1=e.sent,t=e.t0.transformDataToMeeting.call(e.t0,e.t1),n({message:"Events well recieved!",type:"success"}),l({type:He,payload:t}),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(1),l({type:Le,payload:e.t2});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(ye.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:Me}),e.prev=1,e.next=4,we.removeData(Se,t);case 4:l({type:Ue,payload:t}),n({message:"Events well deleted!",type:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:Le,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(ye.a)(xe.a.mark((function e(t){var a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:Me}),e.prev=1,e.t0=Ie,e.next=5,we.updateData(Se,t);case 5:e.t1=e.sent,a=e.t0.transformSingleItemToMeeting.call(e.t0,e.t1),l({type:Re,payload:a}),n({message:"Events well updated!",type:"success"}),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(1),l({type:Le,payload:e.t2});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),b=c.events,p=c.loading,O=c.filteredEvents;return Object(v.jsx)(k.Provider,{value:{addEvent:o,getEvents:u,deleteEvent:d,updateEvent:j,filterEvents:function(e){l({type:Be,payload:e})},clearFilteredEvents:function(){l({type:Fe})},events:b,filteredEvents:O,loading:p},children:t})},$e=function(e,t){switch(t.type){case Te:return{isOpened:!0,modalId:t.payload};case ke:return{isOpened:!1,modalId:null};default:return e}},et=function(e){var t=e.children,n=Object(a.useReducer)($e,{isOpened:!1,modalId:null}),r=Object(i.a)(n,2),s=r[0],c=r[1],l=s.isOpened,o=s.modalId;return Object(v.jsx)(h.Provider,{value:{openModal:function(e){return c({type:Te,payload:e})},closeModal:function(){return c({type:ke})},isOpened:l,modalId:o},children:t})},tt=function(e,t){switch(t.type){case We:return localStorage.setItem("user",JSON.stringify(t.payload)),Object(x.a)(Object(x.a)({},e),{},{isAuthenticated:!0,user:t.payload});case ze:return localStorage.setItem("admin",JSON.stringify(!0)),Object(x.a)(Object(x.a)({},e),{},{isAdmin:!0});case Ve:return localStorage.removeItem("user"),localStorage.removeItem("users"),localStorage.removeItem("admin",!0),{isAuthenticated:!1,isAdmin:!1};default:return e}},nt=function(e){var t=e.children,n={isAuthenticated:localStorage.getItem("user"),isAdmin:localStorage.getItem("admin"),user:JSON.parse(localStorage.getItem("user"))||null},r=Object(a.useReducer)(tt,n),s=Object(i.a)(r,2),c=s[0],l=s[1],o=c.isAdmin,u=c.isAuthenticated,d=c.user;return Object(v.jsx)(S.Provider,{value:{isAdmin:o,isAuthenticated:u,user:d,authUser:function(e){l({type:We,payload:e})},setAsAdmin:function(){l({type:ze})},logout:function(){l({type:Ve})}},children:t})},at=function(e,t){switch(t.type){case qe:return t.payload;case Ke:return null;default:return e}},rt=function(e){var t=e.children,n=Object(a.useReducer)(at,null),r=Object(i.a)(n,2),s=r[0],c=r[1],l=function(){return c({type:Ke})};return Object(v.jsx)(I.Provider,{value:{hideAlert:l,showAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;c({type:qe,payload:e}),setTimeout((function(){l()}),t)},alert:s},children:t})};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(rt,{children:Object(v.jsx)(nt,{children:Object(v.jsx)(Ye,{children:Object(v.jsx)(Ze,{children:Object(v.jsx)(et,{children:Object(v.jsx)(D.a,{children:Object(v.jsx)(me,{})})})})})})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.2f4ff383.chunk.js.map